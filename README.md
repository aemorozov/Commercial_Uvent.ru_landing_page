### Старт проекта

1. Установить [ноду](https://nodejs.org/en/download/) (один раз на комп). Короnко, нода (nodejs) - это среда запуска JS на компьютере, примерно как консоль в браузере, но с гораздо более широкими возможностями, включая написание серверной части на ней. Для фронтенда используется повсеместно в ограниченном фунционале, для запуска вспомогательных инструментов, таких как анализ кода, поиск ошибок, упорядочивание кода и его стилизация, сборка проекта, минификация и т.д.

2. Вместе с нодой идет пакетный менеджер NPM. Можно пользоваться им, можно альтернативами, я лично предпочитаю YARN. Пакетный менеджер - это утилита, позволяющая скачивать пакеты для облегчения жизни в вашем проекте (ближайший тупой аналог - это гугл плей или апстор для телефона).

3. Установить саму IDE - я только за [VSCode](https://code.visualstudio.com/download). Если используешь что-то другое - выбрось и переходи на вскод) Может будет больно, но потом кайф.

4. После установки ноды, в командной строке (для винды рекомендую [настроить IDE на использование гит баш](https://stackoverflow.com/questions/42606837/how-do-i-use-bash-on-windows-from-the-visual-studio-code-integrated-terminal), который идет вместе с гитом), можно писать различные команды, например `node -v` , `npm -v`. Можно создать файл `a.js` в нем одну строку `console.log('hello!!!')` и запустить в консоли `node a.js`.

5. Каждый проект надо начинать с инициализации именно как фронтенд-проекта. Для NPM можно просто выполнить `npm init`, можно просто попробовать, создастся файл `package.json`, который является сердцем проекта. Иногда опытному человеку достаточно быстро взглянуть на содержимое этого файла, чтобы оценить качество проекта. Но давай использовать ярн. Ярн - это тоже пакет по сути и установить его можно через нпм. Примерно как раньше ИЕ был браузером для скачки хрома). Поэтому один раз делаешь на компе команду `npm i yarn -g`. Флаг `-g` говорит о том, что пакет ставится глобально в систему, а не в папку конкретного проекта, для ярна это ок, а почти всё остальное с таким флагом лучше никогда не делать, даже если всякие мануалы об этом будут просить. После установки проверяем в косноли `yarn -v`. Возможно терминал (консоль) надо будет перезагрузить. И инициализируем проект `yarn init` и отвечаем на вопросы (жмем ентер), либо ярн сделает все сам с флагом `yarn init --yes`.

6. Постепенно буду рассказывать о разных полезных пакетах, но начну с [Prettier](https://prettier.io/). Это штука, которая следит за твоим кодстайлом и исправляет его, делая по универсальным стандартам. Его можно немного кастомизировать, но пока начнем с дефолтной конфигурации.

7. Установка пакетов. По аналогии с ярн запускаем `yarn add prettier` или `yarn add prettier -D`. Флаг `-D` говорит о типе устанавливаемого пакета. Их бывает три типа: [обычные, дев и пир](https://www.geeksforgeeks.org/difference-between-dependencies-devdependencies-and-peerdependencies/). Сейчас для тебя важны только первые два и всегда думай, какая к чему относится, если коротко: в обычные идет все, что нужны в рантайме проекта, а всё остальное - идет в дев. Теперь открой `package.json` и посмотри что там изменилось.

8. Запуск преттиер. Открываем `package.json` и добавляем там секцию скриптов, в которую пишем две команды:

```
"scripts": {
  "prettier": "prettier -c \"./**/*.{js,css,json,html,md}\"",
  "prettier-fix": "yarn prettier --write"
},
```

Обрати внимание на то, что первая - это проверка твоего проекта (ее запуск выдаст ошибку), а вторая - это тоже самое что и первая но уже с авто-фиксом проекта. Запусти ее и посмотри, как изменились все твои файлы. Теперь настрой IDE на то, чтоб при каждом сохранении файла работал [Prettier OnSave](https://www.robinwieruch.de/how-to-use-prettier-vscode/).

9. Добавь в корень файл `.gitignore` и пропиши туда `node_modules`. Это папка, в которую как раз и устанавливаются пакеты, ее в гите хранить очень не рекомендуется, но есть нюансы, когда по-другому никак, но это у тебя будет не скоро.

10. Лок-файл. Каждый раз, когда ты устанавливаешь новый пакет - будет изменен файл `yarn.lock` (для нпм это `package-lock.json`), он необходим для того, чтобы когда кто-то устанавливает твой проект к себе - он получил именно те версии пакетов, которые были у тебя на момент их установки. Его так же необходимо хранить в гите вместе с `package.json`.

11. Написать `README.md`, и всегда держать его в актуальном состоянии! Примеры того что там пишут можно смотреть [у меня](https://github.com/opty1712)

### Настройка проекта

1. Познакомлю тебя с гит-хуками. Кратко, есть определенные триггеры, по которым можно что-то сделать до или после гитовских команд (commit / push...).

2. Установим Husky - эта штука будет тебе помогать не закомитить ошибок. Помнишь мы говорили о версиях? СЕйчас хаски уже версии 8, но нам нужна 4, она лучше. Не спрашивай почему, просто лучше). И хаски работает в паре с `lint-staged`, поэтому установим их сразу вместе `yarn add husky@4 lint-staged@10 -D` (сравни с командой установки преттиера и найди разницу!).
   Теперь добавь в `package.json`

```
"husky": {
  "hooks": {
    "pre-commit": "lint-staged"
  }
},
"lint-staged": {
  "*.{js,css,json,html,md}": [
    "prettier --write"
  ]
},

```

Тут используется другой подход, к сожалению хаски не умеет читать скрипты из того же `package.json`, поэтому та же самая команда `prettier-fix` переписана в другом синтаксисе. Что означают все эти строки? Это настройка: перед каждым коммитом, хаски будет отдавать преттиеру только те файлы, которые должны попасть в коммит, а он их будет проверять и фиксить, если найдет ошибки и только после этого произойдет коммит. Так ты проект страхуешь от того, что кто-то нагадит в код.

3. Пойдем дальше, (будем жить по-взрослому!) и настроим [commitlint](https://github.com/conventional-changelog/commitlint). Кратко - эта штука не даст тебе написать имя коммита не по формату. Нужно это для того, чтб был порядок в именах, а если он есть, то, например, changelog проекта рождается автоматически. Для маленьких проектов это как бы нафик не нужно, но привыкаем сразу жить правильно, это залог успеха. Почему так? Потому что надо распечатать и повесить перед глазами [вот эти 20 правил](https://tyapk.ru/blog/post/the-zen-of-python), ответ - в них!
   Запускай `yarn add @commitlint/config-conventional@8 commitlint@8 -D`. Почему мы ставим восьмую версию, а не 17? Потому что, постоянный головняк с тем, чтобы версия одного пакета дружила с другой. Иногда уходят дни на перебор версий, чтобы они все вместе работали (там ведь три цифры в версии, то есть одного пакета может быть сотни, дополнительно читай про [semver](https://druki.ru/wiki/semver)). Теперь создай файл с настройками `commitlint.config.js`

```
module.exports = {
  extends: ['@commitlint/config-conventional'],
  rules: {
    'body-leading-blank': [2, 'always'],
    'footer-leading-blank': [2, 'always']
  }
};

```

Затем добавь скрипт `"commitlint": "commitlint -c commitlint.config.js --from 71e0852d27132e61f927cb0e318dc9d7f775a5f1"`, где последний хэш - это ID коммита, с которого ты начинаешь жить по-взрослому (запускаешь `git log` и верхний хэш - то что нужно. выйти оттуда - нажать `q`). Этот скрипт нужен для запуска комитлинта на проверку. И добавляешь новый хук в хаски `"commit-msg": "commitlint -E HUSKY_GIT_PARAMS"`, и вот он уже будет перед коммитом проверять имя коммита. Попробуй теперь сделать коммит. Не получается? ДЗ - изучить ошибки и таки сделать коммит. В крайнем случае - иди на сайт коммитлинта (ссылка тут выше) и читай там.
